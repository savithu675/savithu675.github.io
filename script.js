const data = [
    {
        id: 1,
        name: 'J.S.G.Perera',
        admissionNumber: '49792',
        examNumber: '90601',
        registerNumber: '1',
        sports: 'not known',
        sportsAccomplishments: 'not known',
        img: './Assets/savith.jpg',
        smallImg: './assets/secimg.png'
    },
    {
        id: 2,
        name: 'J.M.Chanthila',
        admissionNumber: 'not known',
        examNumber: '90602',
        registerNumber: '2',
        sports: 'not known',
        sportsAccomplishments: 'not known',
        img: './Assets/methuka.jpg',
        smallImg: './assets/secimg.png'
    },
    {
        id: 3,
        name: 'D.S.Kalvitigoda',
        admissionNumber: 'not known',
        examNumber: '90603',
        registerNumber: '3',
        sports: 'not known',
        sportsAccomplishments: 'not known',
        img: './Assets/dimantha.jpg',
        smallImg: './assets/secimg.png'
    },
    {
        id: 4,
        name: 'K.A.R.Damsithu',
        admissionNumber: '49821',
        examNumber: '90604',
        registerNumber: '4',
        sports: 'Badminton, Chess',
        sportsAccomplishments: 'Runners Up In Sportmeet 2023, Second Runner Up in Sportmeet 2022, Badminton Camp 2023,2022',
        img: './Assets/rageeth.png',
        smallImg: './assets/secimg.png'
    },
    {
        id: 5,
        name: 'S.K.Phalage',
        admissionNumber: '49834',
        examNumber: '90605',
        registerNumber: '5',
        sports: 'not known',
        sportsAccomplishments: 'not known',
        img: './Assets/senuth.jpg',
        smallImg: './assets/secimg.png'
    },
    {
        id: 6,
        name: 'S.A.Ranasinghe',
        admissionNumber: '49843',
        examNumber: '90606',
        registerNumber: '6',
        sports: 'Rugby',
        sportsAccomplishments: 'not known',
        img: './Assets/santhul.jpg',
        smallImg: './assets/secimg.png'
    },
    {
        id: 7,
        name: 'W.H.S.Wijesundara',
        admissionNumber: 'not known',
        examNumber: '90607',
        registerNumber: '7',
        sports: 'Badminton, Brass Band',
        sportsAccomplishments: '2022 "Prashasthi"Gr and Music Show Euphonium Player, 2022 SportMeet Participated',
        img: './Assets/not.png',
        smallImg: './assets/secimg.png'
    },
    {
        id: 8,
        name: 'R.A.V.M.Rupesinghe',
        admissionNumber: 'not known',
        examNumber: '90608',
        registerNumber: '8',
        sports: 'Badminton, Brass Band',
        sportsAccomplishments: '2022 "Prashasthi"Gr and Music Show Euphonium Player, 2022 SportMeet Participated',
        img: './Assets/not.png',
        smallImg: './assets/secimg.png'
    },
    {
        id: 9,
        name: 'H.D.Erandith',
        admissionNumber: '49857',
        examNumber: '90609',
        registerNumber: '9',
        sports: 'not known',
        sportsAccomplishments: 'not known',
        img: './Assets/not.png',
        smallImg: './assets/secimg.png'
    },
    {
        id: 10,
        name: 'M.S.Minthika',
        admissionNumber: '49859',
        examNumber: '90610',
        registerNumber: '10',
        sports: 'BasketBall, Table Tennis, Swimming',
        sportsAccomplishments: 'BasketBall Couching Camp',
        img: './Assets/not.png',
        smallImg: './assets/secimg.png'
    },
    {
        id: 11,
        name: 'R.N.lorensuhewa',
        admissionNumber: 'not known',
        examNumber: '90611',
        registerNumber: '11',
        sports: 'Swimming, Ananda College Western Band',
        sportsAccomplishments: '2020 Swimming House Meet, 2024 Novices Meet, Five cheaf Guest Arrival, Prashasthi Show 2023, School Sport Meet 2023',
        img: './Assets/lorensu.png',
        smallImg: './assets/secimg.png'
    },
    {
        id: 12,
        name: 'E.B.Pathiranage',
        admissionNumber: '49903',
        examNumber: '90612',
        registerNumber: '12',
        sports: 'Badminton, Basketball',
        sportsAccomplishments: 'Badminton House meet, Badminton zonal',
        img: './Assets/not.png',
        smallImg: './assets/secimg.png'
    },
    {
        id: 13,
        name: 'S.H.Senarathna',
        admissionNumber: '49905',
        examNumber: '90613',
        registerNumber: '13',
        sports: 'Ruger, Swimming',
        sportsAccomplishments: 'not known',
        img: './Assets/not.png',
        smallImg: './assets/secimg.png'
    },
    {
        id: 14,
        name: 'N.C.Weerasekara',
        admissionNumber: 'not known',
        examNumber: '90614',
        registerNumber: '14',
        sports: 'not known',
        sportsAccomplishments: 'not known',
        img: './Assets/not.png',
        smallImg: './assets/secimg.png'
    },
    {
        id: 15,
        name: 'S.Y.Dickmadugoda',
        admissionNumber: 'not known',
        examNumber: '90615',
        registerNumber: '15',
        sports: 'not known',
        sportsAccomplishments: 'not known',
        img: './Assets/not.png',
        smallImg: './assets/secimg.png'
    },
    {
        id: 16,
        name: 'P.Jayasinghe',
        admissionNumber: 'not known',
        examNumber: '90616',
        registerNumber: '16',
        sports: 'not known',
        sportsAccomplishments: 'not known',
        img: './Assets/not.png',
        smallImg: './assets/secimg.png'
    },
    {
        id: 17,
        name: 'H.N.Fernando',
        admissionNumber: 'not known',
        examNumber: '90617',
        registerNumber: '17',
        sports: 'not known',
        sportsAccomplishments: 'not known',
        img: './Assets/not.png',
        smallImg: './assets/secimg.png'
    },
    {
        id: 18,
        name: 'W.C.S.M.Abeysekara',
        admissionNumber: 'not known',
        examNumber: '90618',
        registerNumber: '18',
        sports: 'not known',
        sportsAccomplishments: 'not known',
        img: './Assets/chana.jpg',
        smallImg: './assets/secimg.png'
    },
    {
        id: 19,
        name: 'H.M.G.S.N.Herath',
        admissionNumber: '49948',
        examNumber: '90619',
        registerNumber: '19',
        sports: 'not known',
        sportsAccomplishments: 'not known',
        img: './Assets/sethmika.jpg',
        smallImg: './assets/secimg.png'
    },
    {
        id: 20,
        name: 'Y.K.Rathnayake',
        admissionNumber: 'not known',
        examNumber: '90620',
        registerNumber: '20',
        sports: 'not known',
        sportsAccomplishments: 'not known',
        img: './Assets/not.png',
        smallImg: './assets/secimg.png'
    },
    {
        id: 21,
        name: 'B.D.T.Kemitha',
        admissionNumber: '50062',
        examNumber: '90621',
        registerNumber: '21',
        sports: 'not known, Badminton',
        sportsAccomplishments: 'Coaching Camp House Match Football',
        img: './Assets/kemitha.jpg',
        smallImg: './assets/secimg.png'
    },
    {
        id: 22,
        name: 'H.P.P.H.Herath',
        admissionNumber: 'not known',
        examNumber: '90622',
        registerNumber: '22',
        sports: 'not known',
        sportsAccomplishments: 'not known',
        img: './Assets/pahan.jpg',
        smallImg: './assets/secimg.png'
    },
    {
        id: 23,
        name: 'J.H.U.D.Denuwan',
        admissionNumber: '50073',
        examNumber: '90623',
        registerNumber: '23',
        sports: 'not known',
        sportsAccomplishments: 'not known',
        img: './Assets/not.png',
        smallImg: './assets/secimg.png'
    },
    {
        id: 24,
        name: 'M.N.Indimina',
        admissionNumber: '52037',
        examNumber: '90624',
        registerNumber: '24',
        sports: 'not known',
        sportsAccomplishments: 'not known',
        img: './Assets/nethupa.jpg',
        smallImg: './assets/secimg.png'
    },
    {
        id: 25,
        name: 'K.H.Athuruliya',
        admissionNumber: 'not known',
        examNumber: '90625',
        registerNumber: '25',
        sports: 'not known',
        sportsAccomplishments: 'not known',
        img: './Assets/hesadu.jpg',
        smallImg: './assets/secimg.png'
    },
    {
        id: 26,
        name: 'H.D.S.M.Gunawardhana',
        admissionNumber: 'not known',
        examNumber: '90626',
        registerNumber: '26',
        sports: 'not known',
        sportsAccomplishments: 'not known',
        img: './Assets/not.png',
        smallImg: './assets/secimg.png'
    },
    {
        id: 27,
        name: 'J.N.Senevirathne',
        admissionNumber: '54896',
        examNumber: '90627',
        registerNumber: '27',
        sports: 'Table Tennis',
        sportsAccomplishments: 'not known',
        img: './Assets/janiru.jpg',
        smallImg: './assets/secimg.png'
    },
    {
        id: 28,
        name: 'H.G.D.M.I.De Silva',
        admissionNumber: '54928',
        examNumber: '90628',
        registerNumber: '28',
        sports: 'not known',
        sportsAccomplishments: 'not known',
        img: './Assets/not.png',
        smallImg: './assets/secimg.png'
    },
    {
        id: 29,
        name: 'Okitha Adith',
        admissionNumber: '54944',
        examNumber: '90629',
        registerNumber: '29',
        sports: 'not known, Chess',
        sportsAccomplishments: '2023 football training camp, 2024 football training camp, 2023 sportmeet football matches, 2023 inter school zonal football championship, Maroons futsal 2023 under 14',
        img: './Assets/okitha.jpg',
        smallImg: './assets/secimg.png'
    },
    {
        id: 30,
        name: 'K.G.D.T.Jayarathna',
        admissionNumber: 'not known',
        examNumber: '90630',
        registerNumber: '30',
        sports: 'Tennis, Chess',
        sportsAccomplishments: '2023 Sportmeet Participated, 2022 Sportmeet Participated',
        img: './Assets/not.png',
        smallImg: './assets/secimg.png'
    },
    {
        id: 31,
        name: 'T.N.Jayasinghe',
        admissionNumber: '54950',
        examNumber: '90631',
        registerNumber: '31',
        sports: 'not known',
        sportsAccomplishments: 'not known',
        img: './Assets/thenul.jpg',
        smallImg: './assets/secimg.png'
    },
    {
        id: 32,
        name: 'W.A.D.R.Nulan',
        admissionNumber: '54969',
        examNumber: '90632',
        registerNumber: '32',
        sports: 'Rugby',
        sportsAccomplishments: 'not known',
        img: './Assets/rithra.jpg',
        smallImg: './assets/secimg.png'
    },
    {
        id: 33,
        name: 'S.D.U.I.Abesinghe',
        admissionNumber: 'not known',
        examNumber: '90633',
        registerNumber: '33',
        sports: 'not known',
        sportsAccomplishments: 'not known',
        img: './Assets/not.png',
        smallImg: './assets/secimg.png'
    },
    {
        id: 34,
        name: 'Sanuk Senarathne',
        admissionNumber: 'not known',
        examNumber: '90634',
        registerNumber: '34',
        sports: 'Handball, Chess',
        sportsAccomplishments: 'House Match 2023 Captain of Vijaya House And Played For Gamunu',
        img: './Assets/sanuk.png',
        smallImg: './assets/secimg.png'
    },
    {
        id: 35,
        name: 'O.S.Kodagoda',
        admissionNumber: 'not known',
        examNumber: '90635',
        registerNumber: '35',
        sports: 'not known',
        sportsAccomplishments: 'not known',
        img: './Assets/not.png',
        smallImg: './assets/secimg.png'
    },
    {
        id: 36,
        name: 'K.H.M.S.Jayasundara ',
        admissionNumber: '55030',
        examNumber: '90636',
        registerNumber: '36',
        sports: 'Teakwondo',
        sportsAccomplishments: 'not known',
        img: './Assets/not.png',
        smallImg: './assets/secimg.png'
    },
    {
        id: 37,
        name: 'D.D.Wijethunga',
        admissionNumber: '55044',
        examNumber: '90637',
        registerNumber: '37',
        sports: 'not known',
        sportsAccomplishments: 'not known',
        img: './Assets/devin.jpg',
        smallImg: './assets/secimg.png'
    },
    {
        id: 38,
        name: 'V.G.D.T.Yown Perera',
        admissionNumber: 'not known',
        examNumber: '90638',
        registerNumber: '38',
        sports: 'Table Tennis',
        sportsAccomplishments: 'Molligoda Parakrama College Challenge Trophy 2023 Semi Finalist',
        img: './Assets/not.png',
        smallImg: './assets/secimg.png'
    },
    {
        id: 39,
        name: 'H.D.Kohilawatha',
        admissionNumber: 'not known',
        examNumber: '90639',
        registerNumber: '39',
        sports: 'not known',
        sportsAccomplishments: 'not known',
        img: './Assets/not.png',
        smallImg: './assets/secimg.png'
    },
    {
        id: 40,
        name: 'S.R.Lokugama',
        admissionNumber: '55072',
        examNumber: '90640',
        registerNumber: '40',
        sports: 'not known',
        sportsAccomplishments: 'not known',
        img: './Assets/not.png',
        smallImg: './assets/secimg.png'
    },
    {
        id: 41,
        name: 'A.P.P.Damsara',
        admissionNumber: 'not known',
        examNumber: '90641',
        registerNumber: '41',
        sports: 'not known',
        sportsAccomplishments: 'not known',
        img: './Assets/not.png',
        smallImg: './assets/secimg.png'
    },
    {
        id: 42,
        name: 'K.N.D.Jayanula',
        admissionNumber: 'not known',
        examNumber: '90642',
        registerNumber: '42',
        sports: 'not known',
        sportsAccomplishments: 'not known',
        img: './Assets/not.png',
        smallImg: './assets/secimg.png'
    },
    {
        id: 43,
        name: 'D.N.Senevirathne',
        admissionNumber: 'not known',
        examNumber: '90643',
        registerNumber: '43',
        sports: 'Table Tennis, Cubing',
        sportsAccomplishments: 'not known',
        img: './Assets/dulen.jpg',
        smallImg: './assets/secimg.png'
    },
    {
        id: 44,
        name: 'S.A.S.Yendunu',
        admissionNumber: 'not known',
        examNumber: '90644',
        registerNumber: '44',
        sports: 'not known',
        sportsAccomplishments: 'not known',
        img: './Assets/sehas.jpg',
        smallImg: './assets/secimg.png'
    },
    {
        id: 45,
        name: 'E.A.D.C.Edirimanna',
        admissionNumber: '56680',
        examNumber: '90645',
        registerNumber: '45',
        sports: 'Swimming, Cricket',
        sportsAccomplishments: 'not known',
        img: './Assets/not.png',
        smallImg: './assets/secimg.png'
    }
];

function initializeCards() {
    const cardsContainer = document.querySelector('.cards-container');
    cardsContainer.innerHTML = '';
    data.forEach(person => {
        const card = document.createElement('div');
        card.className = 'card';
        card.onclick = () => showDetails(person.id);

        const mainImg = document.createElement('img');
        mainImg.src = person.img;
        mainImg.alt = person.name;
        mainImg.className = 'main-image';

        const name = document.createElement('p');
        name.textContent = person.name;

        const admissionNumber = document.createElement('p');
        admissionNumber.textContent = `Admission Number: ${person.admissionNumber}`;

        const smallImg = document.createElement('img');
        smallImg.src = person.smallImg;
        smallImg.alt = 'Small image';
        smallImg.className = 'small-image';

        card.appendChild(mainImg);
        card.appendChild(name);
        card.appendChild(admissionNumber);
        card.appendChild(smallImg);
        cardsContainer.appendChild(card);
    });
}

function showDetails(cardId) {
    window.location.href = `details.html?id=${cardId}`;
}

function loadDetails() {
    const urlParams = new URLSearchParams(window.location.search);
    const cardId = parseInt(urlParams.get('id'));

    if (cardId) {
        const person = data.find(p => p.id === cardId);

        if (person) {
            document.getElementById('person-image').src = person.img;
            document.getElementById('person-image').alt = person.name;
            document.getElementById('person-name').textContent = person.name;
            document.getElementById('admission-number').textContent = person.admissionNumber;
            document.getElementById('exam-number').textContent = person.examNumber;
            document.getElementById('register-number').textContent = person.registerNumber;
            document.getElementById('sports').textContent = person.sports;
            document.getElementById('sports-accomplishments').textContent = person.sportsAccomplishments;
        } else {
            console.error('Person not found');
        }
    } else {
        console.error('Invalid card ID');
    }
}

function searchCards() {
    const searchTerm = document.getElementById('searchBar').value.toLowerCase();
    const filteredData = data.filter(person => person.admissionNumber.toLowerCase().includes(searchTerm));

    const cardsContainer = document.querySelector('.cards-container');
    cardsContainer.innerHTML = '';

    filteredData.forEach(person => {
        const card = document.createElement('div');
        card.className = 'card';
        card.onclick = () => showDetails(person.id);

        const mainImg = document.createElement('img');
        mainImg.src = person.img;
        mainImg.alt = person.name;
        mainImg.className = 'main-image';

        const name = document.createElement('p');
        name.textContent = person.name;

        const admissionNumber = document.createElement('p');
        admissionNumber.textContent = `Admission Number: ${person.admissionNumber}`;

        const smallImg = document.createElement('img');
        smallImg.src = person.smallImg;
        smallImg.alt = 'Small image';
        smallImg.className = 'small-image';

        card.appendChild(mainImg);
        card.appendChild(name);
        card.appendChild(admissionNumber);
        card.appendChild(smallImg);
        cardsContainer.appendChild(card);
    });
}

function scrollToAboutUs() {
    document.getElementById('aboutUs').scrollIntoView({ behavior: 'smooth' });
}
function makeNotKnownGlow() {
    function findTextNodes(node) {
        var textNodes = [];
        if (node.nodeType == 3) {
            textNodes.push(node);
        } else {
            var children = node.childNodes;
            for (var i = 0; i < children.length; i++) {
                textNodes.push.apply(textNodes, findTextNodes(children[i]));
            }
        }
        return textNodes;
    }

    var textNodes = findTextNodes(document.body);

    textNodes.forEach(function(node) {
        var text = node.nodeValue;
        if (text.toLowerCase().includes("not known")) {
            var span = document.createElement("span");
            span.className = "glow-red";
            span.textContent = "not known";
            var regex = /not known/gi;
            var newHTML = text.replace(regex, span.outerHTML);
            var newElement = document.createElement("span");
            newElement.innerHTML = newHTML;
            node.parentNode.replaceChild(newElement, node);
        }
    });
}

// Run the function when the page loads
window.addEventListener('load', makeNotKnownGlow);

document.addEventListener('DOMContentLoaded', () => {
    if (document.querySelector('.cards-container')) {
        initializeCards();
    }

    if (document.querySelector('.details-grid')) {
        loadDetails();
    }
});